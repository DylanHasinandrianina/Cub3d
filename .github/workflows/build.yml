# This workflow compiles the project on every push to ensure it builds correctly.
name: ğŸ—ï¸ Compile Build

on:
Â  push: # Run on every push to any branch
Â Â Â  branches: [ main, master, develop ]
Â  pull_request: # Also run on pull requests targeting the main branches
Â Â Â  branches: [ main, master, develop ]

jobs:
Â  build:
Â Â Â  name: Build Project
Â Â Â  runs-on: ubuntu-latest
Â Â Â  steps:
Â Â Â Â Â  # 1. Check out the repository code
Â Â Â Â Â  - name: Checkout code
Â Â Â Â Â Â Â  uses: actions/checkout@v4
Â Â Â Â Â Â Â  with:
Â Â Â Â Â Â Â Â Â  # We also need to clone the submodules (like libft if you add it as one)
Â Â Â Â Â Â Â Â Â  submodules: 'recursive'

Â Â Â Â Â  # 2. Install all necessary system dependencies for MiniLibX
Â Â Â Â Â  - name: Install dependencies
Â Â Â Â Â Â Â  run: |
Â Â Â Â Â Â Â Â Â  sudo apt-get update
Â Â Â Â Â Â Â Â Â  sudo apt-get install -y build-essential libx11-dev libxext-dev libbsd-dev

Â Â Â Â Â  # 3. Run the Makefile to clone mlx and build the project
Â Â Â Â Â  - name: Build project with Makefile
Â Â Â Â Â Â Â  run: make mlx && make
